@model IEnumerable<WebApplication2.Models.QuestionViewModel>
@{
    ViewBag.Title = "Posted Requests";
}
@section scripts{
        <!--Script references. -->
    <!--The jQuery library is required and is referenced by default in _Layout.cshtml. -->
    <!--Reference the SignalR library. -->
    <script src="~/Scripts/jquery.signalR-2.2.0.min.js"></script>
    <!--Reference the autogenerated SignalR hub script. -->
    <script src="~/signalr/hubs"></script>

    <link href="~/Theme/dataTable/jquery.dataTables.min.css" rel="stylesheet" />
    <script src="~/Theme/dataTable/jquery.dataTables.min.js"></script>
    <script>
        $(document).ready(function () {
          
            $('#postedRequests').DataTable({
                "columnDefs": [
                   {
                       "targets": [ 0 ],
                       "visible": false,
                       "searchable": false
                   }],
                    
                        "fnRowCallback": function (nRow, aData, iDisplayIndex) {

                            // Bind click event
                            $(nRow).click(function () {

                               // alert('You clicked on ' + aData[0] + '\'s row');
                               
                                $("#PostId").val(aData[0]);
                                document.getElementById('QuestionDetails').submit();
                            });

                            return nRow;
                        }
                    });

            $("#postedRequests tr").css('cursor', 'pointer');
            
                });

    </script>


  <script>
        $(function () {
            // Declare a proxy to reference the hub.
            var chat = $.connection.notifyTutors;
   
            chat.client.addNewMessageToPage = function (name, message) {
                // Add the message to the page.
                alert(message);
                //$('#discussion').append('<li><strong>' + htmlEncode(name)
                //    + '</strong>: ' + htmlEncode(message) + '</li>');
            };
                   
            $.connection.hub.start().done(function () {
               
            });
         
        });
</script>
}

<div class="container">
    
    @using (Html.BeginForm("QuestionDetails", "Tutors", FormMethod.Post, new { id = "QuestionDetails" }))
    {
       @Html.Hidden("PostId")
        @Html.AntiForgeryToken()
    }
    <div class="row">
        <div class="col-md-1"></div>
        <div class="col-md-10 personal-info">
                <h1>Posted Requests</h1>
                <hr>
                <table id="postedRequests" class="display" cellspacing="0" width="100%">
                    <thead>
                        <tr>
                            <th>
                                @Html.DisplayNameFor(model => model.QuestionID)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.Title)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.Status)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.StudentID)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.Amount)
                            </th>
                            <th>
                                @Html.DisplayNameFor(model => model.DueDate)
                            </th>

                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.QuestionID)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Title)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Status)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.StudentID)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Amount)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.DueDate)
                        </td>
                    </tr>

                    @*<td>
                        @Html.DisplayFor(modelItem => item.AboutMe)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.City)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Country)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.DateCreated)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.CurrentEarning)
                    </td>
                    <td>
                        @Html.ActionLink("Edit", "Edit", new { id = item.TutorID }) |
                        @Html.ActionLink("Details", "Details", new { id = item.TutorID }) |
                        @Html.ActionLink("Delete", "Delete", new { id = item.TutorID })
                    </td>*@

                }
                    </tbody>

                </table>
            </div>
        <div class="col-md-1"></div>
        </div>
 </div>
       
